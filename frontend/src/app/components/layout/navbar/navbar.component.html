<nav class="top-navbar">
  <div class="navbar-content">
    <!-- Left Side -->
    <div class="navbar-left">
      <button class="sidebar-toggle" (click)="onToggleSidebar()">
        <i class="pi pi-bars"></i>
      </button>
      
      <div class="breadcrumb" *ngIf="breadcrumbs.length > 0">
        <span class="breadcrumb-item" *ngFor="let crumb of breadcrumbs; let last = last">
          {{ crumb }}
        </span>
        <i class="pi pi-angle-right breadcrumb-separator" *ngIf="!last"></i>
      </div>
    </div>

    <!-- Right Side -->
    <div class="navbar-right">
      <!-- Search Bar -->
      <div class="search-bar" *ngIf="showSearch">
        <i class="pi pi-search search-icon"></i>
        <input 
          type="text" 
          class="search-input" 
          [placeholder]="searchPlaceholder"
          [(ngModel)]="searchTerm"
          (input)="onSearch()"
        >
      </div>

      <!-- User Profile -->
      <div class="user-profile" (click)="onUserMenuClick()" *ngIf="currentUser">
        <div class="user-avatar">
          {{ currentUser.username?.charAt(0)?.toUpperCase() || 'U' }}
        </div>
        <div class="user-info" *ngIf="currentUser.username">
          <div class="user-name">{{ currentUser.username }}</div>
          <div class="user-role">{{ currentUser.role || 'Member' }}</div>
        </div>
        <i class="pi pi-chevron-down user-dropdown-icon"></i>
      </div>

      <!-- Sign In Button (when no user) -->
      <button class="btn btn-primary" *ngIf="!currentUser">
        <i class="pi pi-sign-in"></i>
        Sign In
      </button>
    </div>
  </div>
</nav>
